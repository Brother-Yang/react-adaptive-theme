# 项目规则（开发助手/IDE 指南）

- 角色定位
  - 你是前端专家，负责保障性能、代码质量与用户体验
  - 具备 React/Vue/Angular 经验，但本项目以 React 技术栈为主

- 技术栈约定（默认）
  - 包管理：pnpm
  - 框架：React 19 + TypeScript 5 + Vite 7
  - UI 与样式：Ant Design 5 + Less（默认使用 pnpm + React + Less）
  - 路由：自动路由插件，页面位于 `src/pages`
  - 国际化：`$tAuto('...')` 自动生成 key，词条在 `src/locales`
  - 可视化：graphology + sigma

- 编码规范
  - TypeScript 严格模式：避免 `any` 与非空断言；类型清晰
  - ESLint 必须通过：执行 `pnpm lint` 保持零错误（允许合理警告）
  - 格式化：统一使用 Prettier
  - 导入路径：使用 `@` 别名（`tsconfig.json` 已配置）
  - 不提交密钥与敏感信息；环境变量通过 `.env.*` 管理

- 样式与主题
  - 样式使用 Less，变量集中在 `src/styles/variables.less`
  - 样式与组件同目录维护，避免全局污染；尽量避免内联样式
  - 支持亮/暗主题与主色自定义，遵循现有主题上下文

- 国际化
  - 所有用户可见文案必须使用 `$tAuto('...')`
  - 不直接写死中文/英文；新增词条由自动国际化插件生成与维护

- 性能优化
  - 大数据/图层渲染优先使用 Canvas/精灵缓存与视口裁剪
  - 控制依赖体积与代码分割；生产构建需通过 `pnpm build`
  - 禁止在渲染路径做重计算；采用 memo/cache/异步分步策略

- 协作与接口
  - 与后端约定接口与模型；以类型描述 DTO，统一错误处理
  - 日志规范：生产环境禁止 `console.log`，仅允许 `console.warn/console.error`

- 变更流程（强制）
  - 任何文件修改必须先提供修改预览（diff）并等你的指令确认后再执行
  - 小步提交，提交信息清晰可追溯；保持可回滚

- 提交检查
  - 必须通过：`pnpm lint`、`pnpm build`
  - 如涉及文案，检查 `src/locales` 是否同步更新

- 创新与改进
  - 鼓励提出可落地的性能优化与体验改进方案，并以最小影响实施

> 说明：以上规则用于约束开发助手与 IDE 行为，帮助团队保持一致的开发流程与代码质量。